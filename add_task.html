<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kanban Project Management Tool</title>
    <link rel="icon" type="image/x-icon" href="./assets/img/favicon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="./assets/style/add_task.css">
    <link rel="stylesheet" href="./assets/style/fonts.css">
    <script src="script.js"></script>
    <script src="./assets/js/storage.js"></script>
</head>
<body id="body" onload="initAddTask(),init()"
    onclick="closeFunction()">
    <div class="flex max-h">
        <div class="include-menu" w3-include-html="templates/menu.html"></div>
        <div class="main max-h">
            <div class="" w3-include-html="templates/header.html"></div>
            <main class="main-container">
                <div class="main-div overflow">
                    <h1 class="add-task-title">Add Task</h1>
                    <form id="add-task-form" action="" class="ad-task-form column-space-between"
                        onsubmit="startCreateTask('todos'); return false">
                        <div class="gap48">
                            <div class="add-task-input-div">
                                <div class="column add-task-input-div">
                                    <label class="form-input-titel asterisk" for="add-task-title">Title</label>
                                    <input id="add-task-title" class="add-task-input mb28" type="text" name="Title"
                                        required placeholder="Enter a title">
                                </div>
                                <div class="column add-task-input-div">
                                    <label class="form-input-titel" for="add-task-description">Description</label>
                                    <textarea id="add-task-description" class="add-task-textarea" type="text"
                                        name="Description" placeholder="Enter a Description"></textarea>
                                </div>
                                <div class="column add-task-input-div" onclick="doNotClose(event)">
                                    <div onclick="dropdownMenuToggle('add-task-contact-div', 'assignet-arrow')">
                                        <svg id="assignet-arrow" class="input-icon">
                                            <use href="assets/img/icons.svg#arrow-dropdown-icon"></use>
                                        </svg>
                                    </div>
                                    <label class="form-input-titel" for="add-task-assignet-to"
                                        onclick="dropdownMenuToggle('add-task-contact-div', 'assignet-arrow')">Assignet
                                        to</label>
                                    <input id="add-task-assignet-to" class="add-task-select arrow-icon"
                                        onclick="dropdownMenuToggle('add-task-contact-div', 'assignet-arrow')"
                                        onkeyup="filterContactsForAddTask()" type="text"
                                        placeholder="Select contacts to assign">
                                    <div id="add-task-contact-div" class="dropdown-menu-div d-none">
                                        <div style="height: 9px;"></div>
                                        <div id="add-task-contact" class="dropdown-menu"></div>
                                        <div style="height: 7px;"></div>
                                    </div>
                                </div>
                                <div id="contacts-div"></div>
                            </div>
                            <div class="seperator"></div>
                            <div>
                                <div class="column add-task-input-div">
                                    <label class="form-input-titel asterisk" for="add-task-date">Due date</label>
                                    <input id="add-task-date" class="add-task-input mb28" type="date" name="Due date"
                                        min="" required placeholder="dd//mm//yyyy">
                                </div>
                                <div class="column add-task-input-div">
                                    <h2 class="form-input-titel">Prio</h2>
                                    <div class="space-between gap8" id="prio-div">
                                        <div id="prio-button-urgent" class="add-task-prio-button"
                                            onclick="changePriority('urgent')">
                                            Urgent
                                            <svg viewBox="0 0 21 16">
                                                <use href="assets/img/icons.svg#height-prio-icon"></use>
                                            </svg>
                                        </div>
                                        <div id="prio-button-medium" class="add-task-prio-button medium"
                                            onclick="changePriority('medium')">Medium
                                            <svg viewBox="0 0 21 16">
                                                <use href="assets/img/icons.svg#medium-prio-icon"></use>
                                            </svg>
                                        </div>
                                        <div id="prio-button-low" class="add-task-prio-button"
                                            onclick="changePriority('low')">Low
                                            <svg viewBox="0 0 21 16">
                                                <use href="assets/img/icons.svg#low-prio-icon"></use>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                                <div class="column add-task-input-div" onclick="doNotClose(event)">
                                    <div onclick="dropdownMenuToggle('add-task-category-list-div', 'category-arrow')">
                                        <svg id="category-arrow" class="input-icon">
                                            <use href="assets/img/icons.svg#arrow-dropdown-icon"></use>
                                        </svg>
                                    </div>
                                    <h2 class="form-input-titel asterisk"
                                        onclick="dropdownMenuToggle('add-task-category-list-div', 'category-arrow')">
                                        Label</h2>
                                    <input id="add-task-category" class="add-task-input add-task-select arrow-icon"
                                        onclick="dropdownMenuToggle('add-task-category-list-div', 'category-arrow')"
                                        type="text" placeholder="Select task category"
                                        pattern="(Technical Task|User Story|HTML|CSS|JS|Testing)"
                                        title="GÃ¼ltige Werte: Technical Task, User Story, HTML, CSS, JS, Testing"
                                        required>
                                    <div id="add-task-category-list-div" class="dropdown-menu-div d-none">
                                        <div style="height: 9px;"></div>
                                        <div id="add-task-category-list" class="dropdown-menu">
                                            <div id="task-label-technical" class="add-task-single"
                                                onclick="selectLabel('Technical Task'); closeFunction()">Technical Task</div>
                                            <div id="task-label-user" class="add-task-single"
                                                onclick="selectLabel('User Story'); closeFunction()">User Story</div>
                                            <div id="task-label-html" class="add-task-single"
                                                onclick="selectLabel('HTML'); closeFunction()">HTML</div>
                                            <div id="task-label-css" class="add-task-single"
                                                onclick="selectLabel('CSS'); closeFunction()">CSS</div>
                                            <div id="task-label-js" class="add-task-single" onclick="selectLabel('JS')">
                                                JS</div>
                                            <div id="task-label-tesig" class="add-task-single"
                                                onclick="selectLabel('Testing'); closeFunction()">Testing</div>
                                        </div>
                                        <div style="height: 7px;"></div>
                                    </div>
                                </div>
                                <div class="column add-task-input-div" onclick="doNotClose(event)">
                                    <label class="form-input-titel" for="add-task-subtasks">Subtasks</label>
                                    <input id="add-task-subtasks" class="add-task-input" onkeydown="handleEnterKey(event)" onclick="openSubtask()"
                                        type="text" minlength="3" name="Subtasks" placeholder="Add new subtask">
                                    <div id="subbtask-input-icon">
                                        <button type="button" id="add-subtask-button" formnovalidate
                                            onclick="openSubtask()">
                                            <svg class="subtask-icons">
                                                <use href="assets/img/icons.svg#plus-add-icon"></use>
                                            </svg>
                                        </button>
                                    </div>
                                    <ul id="subtask-container">
                                        <li class="subbtask" contenteditable="true">
                                            <span>das ist ein subtask</span>
                                        </li>
                                        <li class="subbtask" contenteditable="true">
                                            das hier ist auch ein subtask wer weis denn sowas moin moin
                                            <div>
                                                <svg class="subtask-icons">
                                                    <use href="assets/img/icons.svg#x-icon"></use>
                                                </svg>
                                                <svg class="subtask-icons">
                                                    <use href="assets/img/icons.svg#hook-icon"></use>
                                                </svg>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="space-between add-task-submit-container">
                            <div class="conditions-text">This field is required</div>
                            <div class="add-task-buttons-div">
                                <button id="clear-task-button" class="parrent-button-light" onclick="clearTask()"
                                    type="reset">Clear &#10006;</button>
                                <button id="add-task-button" class="parrent-button-dark" type="submit">Create Task
                                    <svg>
                                        <use href="assets/img/icons.svg#hook-icon"></use>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </main>
        </div>
    </div>
    <div id="overlay-div" class="d-none center">
        <img src="./assets/img/addTaskAdded.svg" alt="">
    </div>
    <script src="./assets/js/add_task.js"></script>
    <script src="./assets/js/Add_task_second_script.js"></script>

</body>

</html>